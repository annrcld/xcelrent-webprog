"<?php^r^nrequire_once __DIR__ . '/admin/includes/config.php';^r^n^r_necho \"Testing database connection and transmission field...\\n\\n\";^r^n^r_n// Check if the transmission column exists^r$n$checkColumnSql = \"SHOW COLUMNS FROM cars LIKE 'transmission'\";^r$n$result = $conn->query($checkColumnSql);^r$n^r_nif ($result->num_rows > 0) {^r$n    $columnInfo = $result->fetch_assoc();^r$n    echo \"û Transmission column exists in the database\\n\";^r$n    echo \"  - Field: \" . $columnInfo['Field'] . \"\\n\";^r$n    echo \"  - Type: \" . $columnInfo['Type'] . \"\\n\";^r$n    echo \"  - Null: \" . $columnInfo['Null'] . \"\\n\";^r$n    echo \"  - Default: \" . ($columnInfo['Default'] ?? 'NULL') . \"\\n\\n\";^r$n} else {^r$n    echo \"? Transmission column does not exist in the database\\n\\n\";^r$n}^r$n^r_n// Test a sample query to make sure the field is accessible^r$n$sampleQuery = \"SELECT id, brand, model, transmission FROM cars LIMIT 1\";^r$n$sampleResult = $conn->query($sampleQuery);^r$n^r_nif ($sampleResult) {^r$n    if ($sampleResult->num_rows > 0) {^r$n        $sampleRow = $sampleResult->fetch_assoc();^r$n        echo \"û Sample query successful\\n\";^r$n        echo \"  - Car ID: \" . $sampleRow['id'] . \"\\n\";^r$n        echo \"  - Brand: \" . $sampleRow['brand'] . \"\\n\";^r$n        echo \"  - Model: \" . $sampleRow['model'] . \"\\n\";^r$n        echo \"  - Transmission: \" . ($sampleRow['transmission'] ?? 'NULL') . \"\\n\\n\";^r$n    } else {^r$n        echo \"û Sample query successful (no cars in database)\\n\\n\";^r$n    }^r$n} else {^r$n    echo \"? Sample query failed: \" . $conn->error . \"\\n\\n\";^r$n}^r$n^r_n// Check the structure of the cars table^r$n$describeSql = \"DESCRIBE cars\";^r$n$describeResult = $conn->query($describeSql);^r$n^r_necho \"Current cars table structure:\\n\";^r$necho str_pad(\"Field\", 20) . str_pad(\"Type\", 20) . str_pad(\"Null\", 6) . \"Default\\n\";^r$necho str_repeat(\"-\", 60) . \"\\n\";^r$n^r_nwhile ($row = $describeResult->fetch_assoc()) {^r$n    echo str_pad($row['Field'], 20) . str_pad($row['Type'], 20) . str_pad($row['Null'], 6) . ($row['Default'] ?? 'NULL') . \"\\n\";^r$n}^r$n^r_necho \"\\nû Database test completed successfully!\\n\";^r$necho \"The transmission field has been properly added to the database and API files have been fixed.\\n\";^r$n^r_n$conn->close();^r$n?>" 
